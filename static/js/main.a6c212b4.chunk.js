(this.webpackJsonpauth=this.webpackJsonpauth||[]).push([[0],{38:function(e,t,a){e.exports=a(54)},43:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),l=a.n(o),c=(a(43),a(10)),u=a(36),i=a(7),s=a(29);function m(){var e=Object(s.a)(["\n    position: absolute;\n    left: 0;\n    right:0;\n    top: 3.5rem;\n    bottom: 0;\n    margin: 0;\n    background-color: white;\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: space-evenly;\n    overflow: auto;\n    padding-bottom: 2rem;\n"]);return m=function(){return e},e}var p=a(30).a.div(m()),h=function(e){return r.a.createElement(p,null,e.children)},d=Object(i.b)((function(e){return{authenticated:e.auth.authenticated}}))((function(e){var t=e.component,a=e.alert,n=e.authenticated,o=Object(u.a)(e,["component","alert","authenticated"]);return r.a.createElement(c.b,Object.assign({},o,{render:function(e){return!0===n?r.a.createElement(h,null,r.a.createElement(t,e)):r.a.createElement(c.a,{to:{pathname:"/login",state:{from:e.location.pathname,alert:a}}})}}))})),f=(a(50),a(51),a(15)),E=a(16),b=a(19),v=a(20),g=a(5),O=a(13),w=a.n(O),y=a(17),_="foobar@example.com",j="hellothere1234",N="secure_jwt_token",x=function(e){return new Promise((function(t,a){setTimeout(t,e)}))},k=Object(i.b)((function(e){return{authenticated:e.auth.authenticated}}),(function(e){return{logout:function(){return e((function(e){e({type:"LOGOUT"})}))}}}))((function(e){var t=e.authenticated,a=e.logout;return t?r.a.createElement("li",{className:"navbar__item",style:{cursor:"pointer"},onClick:a},"Logout"):null})),L=(a(53),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement("ul",{className:"navbar__list"},r.a.createElement(g.b,{to:"/"},r.a.createElement("li",{className:"navbar__item navbar__item--brand"},"Home")),r.a.createElement("li",{className:"navbar__item"},r.a.createElement(g.b,{to:"/protected-route-1"},"Protected Route 1")),r.a.createElement("li",{className:"navbar__item"},r.a.createElement(g.b,{to:"/protected-route-2"},"Protected Route 2")),r.a.createElement("li",{className:"navbar__item"},r.a.createElement(g.b,{to:"/login"},"Login")),r.a.createElement("li",{className:"navbar__item"},r.a.createElement(g.b,{to:"/public-route"},"Public Route")),r.a.createElement(k,null)))}}]),a}(n.Component)),C=a(18),R=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).handleValueChange=function(t){e.setState(Object(C.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(y.a)(w.a.mark((function t(a){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.props.login(e.state);case 3:e.props.auth.authenticated?(alert("Login successful"),n=e.props.location.state?e.props.location.state.from:"/",e.props.history.push(n)):(alert(e.props.auth.error.message),e.props.history.push("/login")),e.setState({email:"",password:""});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={email:"",password:""},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){if(this.props.location.state&&alert(this.props.location.state.alert),this.props.auth.authenticated){alert("You are logged in");var e=this.props.location.state?this.props.location.state.from:"/";this.props.history.push(e)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("h2",{style:{textDecoration:"underline"}},"Login"),r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"email",value:this.state.email,name:"email",onChange:this.handleValueChange,placeholder:"Enter your email",required:!0}),r.a.createElement("input",{type:"password",minLength:8,value:this.state.password,name:"password",onChange:this.handleValueChange,placeholder:"Enter password"}),r.a.createElement("button",null,r.a.createElement("div",{className:"btn"},"Submit"))))}}]),a}(n.Component),S=Object(i.b)((function(e){return{auth:e.auth}}),(function(e){return{login:function(t){return e(function(e){return function(){var t=Object(y.a)(w.a.mark((function t(a){var n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(1e3);case 2:n=e.email,r=e.password,a(n===_&&r===j?{type:"LOGIN",payload:N}:{type:"LOGIN_ERROR",payload:"Credentials do not match"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(R),T=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"This is a private route 1, you are authenticated"))},P=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"This is a private route 2, you are authenticated"))};var G=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:function(){return r.a.createElement(h,null,r.a.createElement("div",{style:{flexflow:"column nowrap"}},r.a.createElement("h1",null,"Welcome"),r.a.createElement("h2",null,"To login in, enter"),r.a.createElement("h3",null,"Email = foobar@example.com"),r.a.createElement("h3",null,"Password = hellothere1234")))}}),r.a.createElement(c.b,{exact:!0,path:"/public-route",component:function(e){return r.a.createElement(h,e,r.a.createElement("h1",null,"This is a public route"))}}),r.a.createElement(c.b,{exact:!0,path:"/login",component:function(e){return r.a.createElement(h,null,r.a.createElement(S,e))}}),r.a.createElement(d,{exact:!0,path:"/protected-route-1",component:T,alert:"Please login to continue"}),r.a.createElement(d,{exact:!0,path:"/protected-route-2",component:P,alert:"Please login to continue"})))},I=a(9),D=a(35);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(25),M={authenticated:null,token:null,error:{present:null,message:null}},U=Object(I.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(V.a)({},e,{authenticated:!0,token:t.payload});case"LOGIN_ERROR":return Object(V.a)({},e,{error:{present:!0,message:t.payload}});case"LOGOUT":return M;default:return e}}}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,B=Object(I.e)(U,W(Object(I.a)(D.a)));l.a.render(r.a.createElement(i.a,{store:B},r.a.createElement(g.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.a6c212b4.chunk.js.map